<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" th:href="@{css/login.css}">
    <link rel="stylesheet" th:href="@{bootstrap/dist/css/bootstrap.min.css}">
    <link rel="stylesheet" th:href="@{font-awesome/css/font-awesome.css}">
    <script th:src="@{js/jquery.min.js}"></script>
    <script th:src="@{js/tools.js}"></script>
</head>
<body>
<div class="wrapper">
    <div class="contain">
        <div class="wratitle">
            <h1 style="margin-top: 20px;">电影售票系统登录</h1>
        </div>
        <div class="input-group">
            <span class="input-group-addon"><i class="fa fa-user" style="font-size: 22px;width: 25px;"></i></span>
            <input type="text" placeholder="请输入用户名" v-model="list.username" class="form-control" id="name">
        </div>
        <div class="input-group">
            <span class="input-group-addon"><i class="fa fa-lock" style="font-size: 22px;width: 25px;"></i></span>
            <input type="password" placeholder="请输入密码" v-model="list.username" class="form-control" id="password">
        </div>
        <div class="input-group">
            <button class="btn btn-primary" onclick="login()">登&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;录</button>
        </div>
        <div class="passabout">
            <span class="passwone"><input type="checkbox">记住密码</span>
            <span class="passwtwo"><a href="javascript:;">忘记密码</a></span>
        </div>
    </div>
</div>
</body>
<script>
    function login() {
        var url = getRootPath()+"/login";
        console.log(url);
        $.ajax({
            type:"post",
            url:url,
            dataType:'json',
            data:{"loginName":$('#name').val(),"password":$('#password').val()},
            async:false,
            success:function(data) {
                if(data.code==1){
                        window.location.href=getRootPath()+"/manager";
                }else {
                    alert("操作信息："+data.msg);
                }
            },
            error:function (data) {
                alert("出现错误，请联系管理员。");
            }
        });
    }

</script>
</html>